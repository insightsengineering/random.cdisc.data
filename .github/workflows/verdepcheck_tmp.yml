# #########################################################
#
#                                                      _
#                                                     | |
#   _ __ ___ _ __ ___   _____   _____   _ __ ___   ___| |
#  | '__/ _ \ '_ ` _ \ / _ \ \ / / _ \ | '_ ` _ \ / _ \ |
#  | | |  __/ | | | | | (_) \ V /  __/ | | | | | |  __/_|
#  |_|  \___|_| |_| |_|\___/ \_/ \___| |_| |_| |_|\___(_)
#
#
#
#  Remove me! This file should be removed before merging
#  This works for testing purposes only
# ########################################################
---
name: Scheduled üï∞Ô∏è

on:
  push:
    branches:
      - verdepcheck_action

jobs:
  dependency-test:
    strategy:
      fail-fast: false
      matrix:
        test-strategy: ["min_cohort", "min_isolated_", "release", "max"]
    uses: insightsengineering/r.pkg.template/.github/workflows/verdepcheck.yaml@main
    name: Dependency Test - ${{ matrix.test-strategy }} üî¢
    secrets:
      REPO_GITHUB_TOKEN: ${{ secrets.REPO_GITHUB_TOKEN }}
      GCHAT_WEBHOOK: ${{ secrets.GCHAT_WEBHOOK }}
    with:
      strategy: ${{ matrix.test-strategy }}
      additional-env-vars: |
        PKG_SYSREQS_DRY_RUN=true
